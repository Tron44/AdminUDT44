CREATE DATABASE `cuestionarioudima` /*!40100 DEFAULT CHARACTER SET utf8 */;
CREATE TABLE `asignatura` (
  `idAsignatura` int(11) NOT NULL,
  `nombreAsignatura` varchar(65) NOT NULL,
  `codigoAsignatura` varchar(65) DEFAULT NULL,
  `idGrado` int(11) DEFAULT NULL COMMENT 'grado de asignatura',
  `idProfesor` int(2) DEFAULT NULL,
  PRIMARY KEY (`idAsignatura`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='tabla con las asignaturas pertenecientes a los distintos gra';

CREATE TABLE `cuestionario` (
  `idCuestionario` int(11) NOT NULL,
  `nombreCuestionario` varchar(255) DEFAULT NULL,
  `publicacion` int(11) DEFAULT NULL,
  `idAsignatura` int(11) DEFAULT NULL,
  `descCuestionario` varchar(100) DEFAULT NULL,
  `idProfesor` int(11) DEFAULT NULL,
  PRIMARY KEY (`idCuestionario`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='tabla de cuestionarios de asignaturas';

CREATE TABLE `grado` (
  `idGrado` int(11) NOT NULL,
  `nombreGrado` varchar(65) NOT NULL,
  PRIMARY KEY (`idGrado`),
  UNIQUE KEY `idGrado_UNIQUE` (`idGrado`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='tabla con los grados de la universidad';

CREATE TABLE `pregunta` (
  `idPregunta` int(11) NOT NULL,
  `textoPregunta` longtext NOT NULL,
  `tipoPregunta` int(1) NOT NULL,
  `numRespuestas` int(11) DEFAULT NULL,
  `idCuestionario` int(11) DEFAULT NULL,
  PRIMARY KEY (`idPregunta`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='tabla de preguntas';

CREATE TABLE `respuesta` (
  `idRespuesta` int(11) NOT NULL,
  `textoRespuesta` longtext,
  `idPreguntaResp` int(11) DEFAULT NULL,
  `validaRespuesta` int(11) DEFAULT NULL,
  PRIMARY KEY (`idRespuesta`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='v';

CREATE TABLE `secuencia` (
  `sequence_name` varchar(100) NOT NULL,
  `sequence_increment` int(11) unsigned NOT NULL DEFAULT '1',
  `sequence_min_value` int(11) unsigned NOT NULL DEFAULT '1',
  `sequence_max_value` bigint(20) unsigned NOT NULL DEFAULT '18446744073709551615',
  `sequence_cur_value` bigint(20) unsigned DEFAULT '1',
  `sequence_cycle` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`sequence_name`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;

CREATE TABLE `usuario` (
  `idUsuario` int(11) NOT NULL,
  `nombreUsuario` varchar(45) NOT NULL,
  `passwordUsuario` varchar(12) NOT NULL,
  `emailUsuario` varchar(45) NOT NULL,
  `superUsuario` int(11) DEFAULT NULL,
  PRIMARY KEY (`idUsuario`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='tabla de usuarios de aplicación de administracion';